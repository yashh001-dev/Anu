<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>To My Valentine</title>
  <style>
    :root {
      --bg1: #ffdde1;
      --bg2: #ee9ca7;
      --card: rgba(255,255,255,0.85);
      --shadow: 0 20px 60px rgba(0,0,0,0.12);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
    }

    .card {
      width: min(520px, 92vw);
      padding: 28px;
      border-radius: 24px;
      background: var(--card);
      box-shadow: var(--shadow);
      text-align: center;
      backdrop-filter: blur(8px);
      position: relative;
      z-index: 2;
    }

    h1 {
      margin: 0 0 10px;
      font-size: clamp(26px, 4vw, 40px);
      letter-spacing: 0.2px;
    }

    p {
      margin: 0 0 18px;
      font-size: 16px;
      opacity: 0.85;
    }

    button {
      border: 0;
      padding: 14px 22px;
      border-radius: 999px;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
      user-select: none;
    }
    button:active { transform: scale(0.98); }

    #yesBtn {
      background: #ff4d6d;
      color: white;
      box-shadow: 0 10px 25px rgba(255, 77, 109, 0.35);
    }

    #yesBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 30px rgba(255, 77, 109, 0.45);
    }

    /* Button box where NO will dodge */
    .buttonBox {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 14px;
      flex-wrap: wrap;

      position: relative;
      width: 100%;
      min-height: 70px;

      border-radius: 18px;
      background: rgba(255,255,255,0.6);
      box-shadow: 0 10px 25px rgba(0,0,0,0.07);
      padding: 14px;
      overflow: hidden;
    }

    #noBtn {
      background: #222;
      color: #fff;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      position: relative;
      z-index: 3;
    }
    #noBtn:hover { filter: brightness(1.06); }

    .result {
      margin-top: 18px;
      font-size: 18px;
      font-weight: 600;
      display: none;
    }

    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .heart {
      position: absolute;
      font-size: 18px;
      opacity: 0.8;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15));
    }

    @keyframes floatUp {
      from { transform: translateY(0) scale(1); opacity: 0.9; }
      to   { transform: translateY(-120vh) scale(1.6); opacity: 0; }
    }

    .screen { display: none; }
    .screen.active { display: block; }

    .formBox {
      margin-top: 14px;
      text-align: left;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,0.7);
      box-shadow: 0 10px 25px rgba(0,0,0,0.07);
      position: relative;
      z-index: 5;
      pointer-events: auto;
    }

    .formBox * { pointer-events: auto; }

    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .field {
      flex: 1;
      min-width: 160px;
    }

    label {
      display: block;
      font-size: 13px;
      font-weight: 700;
      opacity: 0.85;
      margin-bottom: 6px;
    }

    input[type="date"], input[type="time"], input[type="text"]{
      width: 100%;
      border: 1px solid rgba(0,0,0,0.12);
      padding: 12px;
      border-radius: 12px;
      font-size: 15px;
      outline: none;
      background: rgba(255,255,255,0.92);
    }

    #waBtn {
      margin-top: 12px;
      width: 100%;
      background: #25D366;
      color: white;
      box-shadow: 0 10px 25px rgba(37, 211, 102, 0.28);
    }
    #waBtn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 30px rgba(37, 211, 102, 0.35);
    }

    .tiny {
      margin-top: 10px;
      font-size: 13px;
      opacity: 0.78;
      line-height: 1.35;
    }
  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>

  <div class="card">
    <!-- SCREEN 1 -->
    <div class="screen active" id="screen1">
      <h1>Will you be my Valentine? ðŸ’˜</h1>
      <p>Choose wisely ðŸ˜Œ</p>

      <div class="buttonBox" id="buttonBox">
        <button id="yesBtn">Yes ðŸ’–</button>
        <button id="noBtn" aria-label="No">No ðŸ™ƒ</button>
      </div>

      <div class="result" id="result">
        YAYYYYY! I knew it!ðŸ’žðŸ¥° 
      </div>
    </div>

    <!--SCREEN 2 -->
    <div class="screen" id="screen2">
      <h1>Okayyy ðŸ’ž</h1>
      <p>Pick the date, Time & Resturant Name Sugerpop ðŸ˜Œâœ¨</p>

      <div class="formBox">
        <div class="row">
          <div class="field">
            <label for="date">Date</label>
            <input id="date" type="date" />
          </div>
          <div class="field">
            <label for="time">Time</label>
            <input id="time" type="time" value="19:30" />
          </div>
        </div>

        <div style="margin-top:12px;">
          <label for="place">Restaurant Name</label>
          <input id="place" type="text" placeholder="e.g., Your fav Restaurant" />
        </div>

        <button id="waBtn">Click to text me on WhatsApp ðŸ’ž</button>

        <div class="tiny">
          This will open WhatsApp with a ready message just press <b>Send</b>.
        </div>
      </div>
    </div>
  </div>

  <script>
    const hearts = document.getElementById("hearts");

    const screen1 = document.getElementById("screen1");
    const screen2 = document.getElementById("screen2");

    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");

    const buttonBox = document.getElementById("buttonBox");

    const dateEl = document.getElementById("date");
    const timeEl = document.getElementById("time");
    const placeEl = document.getElementById("place");
    const waBtn = document.getElementById("waBtn");

    // PUT YOUR NUMBER HERE (no +, no spaces)
    const YOUR_WHATSAPP_NUMBER = "447721404521"; // e.g. 447123456789

    const margin = 10;

    function showScreen2() {
      screen1.classList.remove("active");
      screen1.style.display = "none";

      screen2.classList.add("active");
      screen2.style.display = "block";

      noBtn.style.display = "none";

      location.hash = "#date";

      const d = new Date();
      d.setDate(d.getDate() + 1);
      dateEl.value = d.toISOString().slice(0, 10);

      launchHearts();
      setTimeout(() => placeEl.focus(), 150);
    }

    function moveNoInsideBox() {
      noBtn.style.position = "absolute";

      const boxRect = buttonBox.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = boxRect.width - btnRect.width - margin;
      const maxY = boxRect.height - btnRect.height - margin;

      const x = Math.max(margin, Math.floor(Math.random() * Math.max(maxX, margin)));
      const y = Math.max(margin, Math.floor(Math.random() * Math.max(maxY, margin)));

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }

    noBtn.addEventListener("mouseenter", moveNoInsideBox);
    noBtn.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      moveNoInsideBox();
    });

    yesBtn.addEventListener("click", () => {
      result.style.display = "block";
      launchHearts();
      setTimeout(showScreen2, 650);
    });

// WhatsApp message with "safe cute emojis" (works on all devices)
waBtn.addEventListener("click", () => {
  const date = dateEl.value;
  const time = timeEl.value || "19:30";
  const place = (placeEl.value || "").trim();

  if (!YOUR_WHATSAPP_NUMBER || YOUR_WHATSAPP_NUMBER === "YOUR_WHATSAPP_NUMBER") {
    alert("Add your WhatsApp number in the code first ðŸ˜„");
    return;
  }
  if (!date) {
    alert("Pick a date first ðŸ¥º");
    return;
  }
  if (!place) {
    alert("Tell me the Restaurant Name too ðŸ¥º");
    placeEl.focus();
    return;
  }

  // âœ… Safe symbols (no emoji font required)
  const msg =
    "YAYYYYY!! (^-^)\n" +
    "Valentine date details:\n" +
    "â™¡ Date : " + date + "\n" +
    "â™¡ Time : " + time + "\n" +
    "â™¡ Restaurant Name: " + place + "\n\n" +
    "Can't waittt!! <3 <3";

  const link = `https://wa.me/${YOUR_WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
  window.open(link, "_blank", "noopener,noreferrer");
});


    function launchHearts() {
      // Keep emojis here as-is (works fine in page); WhatsApp message is fixed via escapes
      const emojis = ["ðŸ’–","ðŸ’˜","ðŸ’•","ðŸ’ž","ðŸ˜","ðŸ¥°","â¤ï¸"];
      let count = 0;

      const interval = setInterval(() => {
        for (let i = 0; i < 6; i++) {
          const span = document.createElement("span");
          span.className = "heart";
          span.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          span.style.left = Math.floor(Math.random() * 100) + "vw";
          span.style.bottom = "-10vh";
          span.style.animationDuration = (2.5 + Math.random() * 2) + "s";
          span.style.fontSize = (14 + Math.random() * 26) + "px";
          hearts.appendChild(span);
          setTimeout(() => span.remove(), 5000);
        }

        count++;
        if (count > 14) clearInterval(interval);
      }, 180);
    }

    window.addEventListener("resize", () => {
      if (noBtn.style.position === "absolute") moveNoInsideBox();
    });
  </script>
</body>
</html>
